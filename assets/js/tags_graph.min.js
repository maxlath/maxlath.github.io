(function(){var t,n,r,e,a;a=600,r=400,t=d3.scale.category20(),n=d3.layout.force().charge(-120).linkDistance(30).size([a,r]),e=d3.select(".graph").append("svg").attr("width",a).attr("height",r),d3.json("/tags/graph.json",function(r,a){var c,i;if(r)throw r;return n.nodes(a.nodes).links(a.links).start(),c=e.selectAll(".link").data(a.links).enter().append("line").attr("class","link").style("stroke-width",function(t){return Math.sqrt(t.value)}),i=e.selectAll(".node").data(a.nodes).enter().append("circle").attr("class","node").attr("r",10).style("fill",function(n){return t(n.group)}).call(n.drag),i.append("title").text(function(t){return t.name}),n.on("tick",function(){return c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),i.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}),i.on("click",function(t,n){return window.location.href=t.url})})}).call(this);
